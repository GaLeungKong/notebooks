# C#基础

## 值类型

- 值类型（Value types）

- 引用类型（Reference types）

  对象（Object)

  动态(Dynamic)

  动态类型与对象类型相似，但是对象类型变量的类型检查是在编译时发生的，而动态类型变量的类型检查是在运行时发生的。

  字符串（String)

  C# string 字符串的前面可以加 @（称作"逐字字符串"）将转义字符（\）当作普通字符对待

  ```c#
  string str = @"C:\Windows";
  //等价于：
  string str = "C:\\Windows";
  ```

  @ 字符串中可以任意换行，换行符及缩进空格都计算在字符串长度之内。

- 指针类型（Pointer types）

  同C++

装箱/拆箱

以等号右边为主语

装箱：低抽象变为高抽象（int->Object)

拆箱相反

## C#堆栈

堆栈里存放：值类型、引用类型、指针、指令

new的东西保存在堆中

指令放在栈中

引用类型总是放在堆中。

引用类型保存一个指向堆的指针

值类型和指针总是放在它们被声明的地方（堆或栈）。

## 特性（Attribute)

特性是一种允许我们**向程序的程序集添加元数据**的语言结构，它是用于保存程序结构信息的某种特殊类型的**类**。

### AttributeUsage

- ValidOn：指定特性允许的目标类型。构造函数的第一个参数必须是AttributeTarget类型的枚举值
- Inherited：布尔值，指示特性能否被派生类和重写成员继承
- AllowMultiple：布尔值，指示特性能否被重复放置在同一个程序实体前多次

可以在类上面运用特性，而特性本身就是类，有一个很重要的预定义特性AttributeUsage可以运用到自定义特性上，我们可以用它来限制特性使用在某个目标类型上



## 反射

**什么是元数据（MetaData）和反射（reflection）**

1. 元数据是包含程序以及类型信息的数据，它保存在程序的程序集当中。
2. 程序在运行的时候，可以查看其他程序集或者其本身的元数据。这个行为就是反射。

## **CLR** 

公共语言运行时(Common Language Runtime) 是一个可由多种编程语言使用的"运行时"，它负责资源管理（内存分配和垃圾收集等），并保证应用和底层操作系统之间必要的分离。CLR的核心功能(内存管理、程序集加载、安全性、异常处理和线程同步)可由面向CLR的所有语言使用。

## 委托

**委托（Delegate）** 是存有对某个方法的引用的一种引用类型变量。引用可在运行时被改变。

委托特别用于实现事件和回调方法。所有的委托（Delegate）都派生自 **System.Delegate** 类。